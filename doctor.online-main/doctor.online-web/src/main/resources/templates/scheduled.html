<!DOCTYPE html>
<html lang="en" xmlns:th="https://thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/layout}">
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async
	src="https://www.googletagmanager.com/gtag/js?id=UA-90680653-2"></script>
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-90680653-2');
    </script>

<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Twitter -->
<!-- <meta name="twitter:site" content="@bootstrapdash">
    <meta name="twitter:creator" content="@bootstrapdash">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Azia">
    <meta name="twitter:description" content="Responsive Bootstrap 4 Dashboard Template">
    <meta name="twitter:image" content="https://www.bootstrapdash.com/azia/img/azia-social.png"> -->

<!-- Facebook -->
<!-- <meta property="og:url" content="https://www.bootstrapdash.com/azia">
    <meta property="og:title" content="Azia">
    <meta property="og:description" content="Responsive Bootstrap 4 Dashboard Template">

    <meta property="og:image" content="https://www.bootstrapdash.com/azia/img/azia-social.png">
    <meta property="og:image:secure_url" content="https://www.bootstrapdash.com/azia/img/azia-social.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="600"> -->

<!-- Meta -->
<meta name="description"
	content="Responsive Bootstrap 4 Dashboard Template">
<meta name="author" content="BootstrapDash">

<title>Appointments | Doctor Online</title>

<!-- vendor css -->
<link href="../lib/fontawesome-free/css/all.min.css" rel="stylesheet">
<link href="../lib/ionicons/css/ionicons.min.css" rel="stylesheet">
<link href="../lib/typicons.font/typicons.css" rel="stylesheet">

<!-- azia CSS -->
<link rel="stylesheet" href="../css/azia.css">

<style>
.navbar-brand {
	font-weight: 600;
}

.card {
	border: none;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
}

.btn-outline-primary:hover {
	transform: translateY(-1px);
}

.appointment-card {
	transition: all 0.3s ease;
}

.appointment-card:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
}

/* .prescription-form {
	background: #f8f9fa;
	border-radius: 10px;
} */
.medication-item {
	background: white;
	border: 1px solid #e9ecef;
	border-radius: 8px;
}

.status-pending {
	color: #ffc107;
}

.status-scheduled {
	color: #198754;
}

.status-completed {
	color: #6c757d;
}

.nav-pills .nav-link.active {
	background-color: #0d6efd;
}

.form-control:focus, .form-select:focus {
	border-color: #86b7fe;
	box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}
</style>

</head>
<body>

	<div class="content-wrapper" layout:fragment="content">

		<div class="az-content pd-y-20 pd-lg-y-30 pd-xl-y-40">
			<div class="container">
				<div class="az-content-left az-content-left-components">
					<div class="component-item">
						<label>Appointments</label>
						<nav class="nav flex-column">
							<a th:href="@{/doctors/scheduled}" class="nav-link active">Scheduled</a>
							 <a th:href="@{/doctors/requests}" class="nav-link"
								th:classappend="${activeTab} == 'Requests' ? 'active' : ''">Requests</a>

							<!--<a th:href="@{/appointments/completed}" class="nav-link"
								th:classappend="${activeTab} == 'Completed' ? 'active' : ''">Completed
							</a> <a th:href="@{/appointments/expired}" class="nav-link"
								th:classappend="${activeTab} == 'Expired' ? 'active' : ''">Expired
							</a> -->
						</nav>

					</div>
					<!-- component-item -->

				</div>
				<!-- az-content-left -->
				<div class="az-content-body pd-lg-l-40 d-flex flex-column">
					<div class="az-content-breadcrumb">
						<span>Appointments</span>
					</div>
					<div class="d-flex justify-content-between align-items-center">
						<h2 class="az-content-title">Scheduled</h2>
					</div>

					<div class="col-md-12">
						<div class="">
							<!-- Appointments Tab -->
							<div class="" id="appointments">
								<!-- Today's Scheduled Appointments -->
								<div class="">
									<div class=" ">
										<h5 class="mb-0">
											<i class="bi bi-calendar me-2"></i>Today's Appointments (<span id="noOfAppointments" th:text="${scheduledAppointments.size}">0</span>)
										</h5>
									</div>


									<div class="card-body">
										<div class="row" id="scheduledAppointments">
											<div th:if="${#lists.isEmpty(scheduledAppointments)}"
												class="text-center text-muted py-5">
												<p>No scheduled appointments</p>
											</div>

											<div th:each="appointment : ${scheduledAppointments}"
												class="col-md-4 mb-3"  th:attr="id='appointment-card-' + ${appointment.id}">
												<div class="card appointment-card border-success">
													<div class="card-body">
														<div
															class="d-flex justify-content-between align-items-start">
															<div>
																<h6 class="card-title mb-1"
																	th:text="${appointment.patientName}">Name</h6>
																<p class="text-muted small mb-2">
																	Age: <span th:text="${appointment.patientAge}">Age</span> |
																	Gender: <span th:text="${appointment.patientAge}">Gender</span>
																</p>
																<p class="text-success small mb-2">
																	<i class="bi bi-clock me-1"></i> <span
																		th:text="${appointment.startTime}">Time</span>
																</p>
																<!-- <p class="text-muted small mb-0"
																	th:text="'Reason: ' + ${appointment.reason}">Reason</p> -->
															</div>
															<span class="badge bg-success">Scheduled</span>
														</div>
														<div class="mt-3">
															<button class="btn btn-primary btn-sm"
																th:onclick="'startConsultation(' + ${appointment.id} + ')'">
																<i class="bi bi-play-fill"></i> Start
															</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- 							<div class="card-body">
										<div class="row" id="scheduledAppointments">
											<div class="col-md-4 mb-3">
												<div class="card appointment-card border-success">
													<div class="card-body">
														<div
															class="d-flex justify-content-between align-items-start">
															<div>
																<h6 class="card-title mb-1">Michael Brown</h6>
																<p class="text-muted small mb-2">Age: 28 | ID: P003</p>
																<p class="text-success small mb-2">
																	<i class="bi bi-clock me-1"></i>9:00 AM
																</p>
																<p class="text-muted small mb-0">Reason: Regular
																	checkup</p>
															</div>
															<span class="badge bg-success">Scheduled</span>
														</div>
														<div class="mt-3">
															<button class="btn btn-primary btn-sm"
																onclick="startConsultation('P003')">
																<i class="bi bi-play-fill"></i> Start
															</button>
														</div>
													</div>
												</div>
											</div>
											<div class="col-md-4 mb-3">
												<div class="card appointment-card border-success">
													<div class="card-body">
														<div
															class="d-flex justify-content-between align-items-start">
															<div>
																<h6 class="card-title mb-1">Sarah Wilson</h6>
																<p class="text-muted small mb-2">Age: 55 | ID: P004</p>
																<p class="text-success small mb-2">
																	<i class="bi bi-clock me-1"></i>11:30 AM
																</p>
																<p class="text-muted small mb-0">Reason: Diabetes
																	follow-up</p>
															</div>
															<span class="badge bg-success">Scheduled</span>
														</div>
														<div class="mt-3">
															<button class="btn btn-primary btn-sm"
																onclick="startConsultation('P004')">
																<i class="bi bi-play-fill"></i> Start
															</button>
														</div>
													</div>
												</div>
											</div>
											<div class="col-md-4 mb-3">
												<div class="card appointment-card border-success">
													<div class="card-body">
														<div
															class="d-flex justify-content-between align-items-start">
															<div>
																<h6 class="card-title mb-1">Robert Taylor</h6>
																<p class="text-muted small mb-2">Age: 62 | ID: P005</p>
																<p class="text-success small mb-2">
																	<i class="bi bi-clock me-1"></i>3:45 PM
																</p>
																<p class="text-muted small mb-0">Reason:
																	Hypertension review</p>
															</div>
															<span class="badge bg-success">Scheduled</span>
														</div>
														<div class="mt-3">
															<button class="btn btn-primary btn-sm"
																onclick="startConsultation('P005')">
																<i class="bi bi-play-fill"></i> Start
															</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div> -->
								</div>
							</div>


							<!-- Prescription Tab -->
							<div class="" style="display: none" id="prescription">
								<div class="">
									<div class=" ">
										<h5 class="mb-0">
											<i class="bi bi-prescription2 me-2"></i>Patient Prescription
											& Follow-up
										</h5>
									</div>
									<div class="card-body prescription-form p-4">
										<!-- Patient Selection -->
										<div class="row mb-4">
											<div class="col-md-6">
												<label class="form-label">Patient</label> <input
													disabled type="text" class="form-control"
													id="patientName" value="Patient Name">
											</div>
											<div class="col-md-6">
												<label class="form-label">Consultation Date</label> <input
													disabled type="text" class="form-control"
													id="consultationDate">
											</div>
										</div>

										<!-- Patient Info Display -->
										<div id="patientInfo" class="row mb-4">
											<div class="col-12">
												<div class="card bg-white border">
													<div class="card-body">
														<div class="row">
															<div class="col-md-2">
																<strong>Age:</strong> <span id="patientAge"></span>
															</div>
															<div class="col-md-3">
																<strong>Blood:</strong> <span id="patientName">O+</span>
															</div>
															<div class="col-md-2">
																<strong>Gender:</strong> <span id="patientGender"></span>
															</div>
															<div class="col-md-5">
																<strong>id:</strong> <span id="appointmentIdForPrescription"></span>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- Diagnosis & Symptoms -->
										<div class="row mb-4">
											<div class="col-md-6">
												<label class="form-label">Diagnosis</label>
												<textarea class="form-control" rows="3"
													placeholder="Enter primary diagnosis..."></textarea>
											</div>
											<div class="col-md-6">
												<label class="form-label">Symptoms & Observations</label>
												<textarea class="form-control" rows="3"
													placeholder="Patient symptoms and clinical observations..."></textarea>
											</div>
										</div>

										<!-- Medications -->
										<div class="mb-4">
											<div
												class="d-flex justify-content-between align-items-center mb-3">
												<label class="form-label mb-0">Medications</label>
												<button type="button" class="btn btn-outline-primary btn-sm"
													onclick="addMedication()">
													<i class="bi bi-plus-lg"></i> Add Medication
												</button>
											</div>
											<div id="medicationsList">
												<!-- Medications will be added here -->
											</div>
										</div>

										<!-- Visit Type & Follow-up -->
										<div class="row mb-4">
											<div class="col-md-4">
												<label class="form-label">Visit Type</label> <select
													class="form-select" id="visitType"
													onchange="toggleFollowup()">
													<option value="consultation">Routine Consultation</option>
													<option value="observation">Observation Required</option>
													<option value="hospital">Hospital Visit Required</option>
													<option value="followup">Follow-up Required</option>
												</select>
											</div>
											<div class="col-md-4" id="followupDateDiv"
												style="display: none;">
												<label class="form-label">Follow-up Date</label> <input
													type="date" class="form-control" id="followupDate">
											</div>
											<div class="col-md-4" id="priorityDiv" style="display: none;">
												<label class="form-label">Priority</label> <select
													class="form-select" id="priority">
													<option value="routine">Routine</option>
													<option value="urgent">Urgent</option>
													<option value="emergency">Emergency</option>
												</select>
											</div>
										</div>

										<!-- Additional Instructions -->
										<div class="row mb-4">
											<div class="col-md-6">
												<label class="form-label">General Instructions</label>
												<textarea class="form-control" rows="3"
													placeholder="Diet, lifestyle, general care instructions..."></textarea>
											</div>
											<div class="col-md-6">
												<label class="form-label">Next Visit Instructions</label>
												<textarea class="form-control" rows="3"
													placeholder="Instructions for next visit or follow-up..."></textarea>
											</div>
										</div>



										<!-- Action Buttons -->
										<div class="d-flex gap-3">
											<button type="button" class="btn btn-primary"
												onclick="savePrescription()">
												<i class="bi bi-check-lg me-2"></i>Save Prescription
											</button>
											<!-- <button type="button" class="btn btn-outline-secondary"
												onclick="clearForm()">
												<i class="bi bi-arrow-clockwise me-2"></i>Reset Form
											</button> -->
											<button type="button" class="btn btn-outline-secondary"
												id="backBtn">
												<i class="bi bi-x-circle me-2"></i>Cancel
											</button>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="ht-40"></div>
				</div>
				<!-- az-content-body -->
			</div>
			<!-- container -->
		</div>
		<!-- az-content -->
	</div>

	<script src="../lib/jquery/jquery.min.js"></script>
	<script src="../lib/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="../lib/ionicons/ionicons.js"></script>
	<script src="../js/jquery.cookie.js" type="text/javascript"></script>

	<script src="../js/azia.js"></script>

	<th:block layout:fragment="script">
		<script th:src="@{'/js/docon/scheduled.js'}"></script>
	</th:block>
</body>
</html>